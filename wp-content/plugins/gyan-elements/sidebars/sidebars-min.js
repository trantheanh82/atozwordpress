!function(e){"use strict";var t=function(){0!==e(".sidebars-column-2").length?this.widget_page_sidebars_column=e(".sidebars-column-2"):this.widget_page_sidebars_column=e(".sidebars-column-1"),this.custom_sidebar=e("#widgets-right"),this.widget_page_right_section=e(".widget-liquid-right"),this.sidebar_template=e("#gyan-add-sidebar-template"),this.custom_sidebar_form(),this.delete_confirm_cancel_buttons(),this.delete_confirm_cancel_events()};t.prototype={custom_sidebar_form:function(){this.widget_page_sidebars_column.append(this.sidebar_template.html()),this.widget_name=this.widget_page_sidebars_column.find('input[name="gyan-add-sidebar-input"]'),this.nonce=this.widget_page_sidebars_column.find('input[name="gyan-nonce"]').val()},delete_confirm_cancel_buttons:function(){var t=0;this.custom_sidebar.find(".sidebar-gyan-custom .widgets-sortables").each(function(){if(t>=gyanLocalizeCustomSidebars.count){var i=e(this).attr("id"),s='<div class="gyan-widget-box-bottom"><div class="gyan-custom-sidebar-id">'+gyanLocalizeCustomSidebars.widget_id+':<span class="description"> '+i+'</span></div><div class="gyan-custom-sidebar-buttons"><a href="#" class="gyan-custom-sidebar-delete button-secondary">'+gyanLocalizeCustomSidebars.delete+'</a><a href="#" class="gyan-custom-sidebar-delete-cancel button-secondary">'+gyanLocalizeCustomSidebars.cancel+'</a><a href="#" class="gyan-custom-sidebar-delete-confirm button-primary">'+gyanLocalizeCustomSidebars.confirm+"</a></div></div>";e(this).append(s)}t++})},delete_confirm_cancel_events:function(){this.widget_page_right_section.on("click","a.gyan-custom-sidebar-delete",function(t){t.preventDefault(),e(this).hide(),e(this).next("a.gyan-custom-sidebar-delete-cancel").show().next("a.gyan-custom-sidebar-delete-confirm").show()}),this.widget_page_right_section.on("click","a.gyan-custom-sidebar-delete-cancel",function(t){t.preventDefault(),e(this).hide(),e(this).prev("a.gyan-custom-sidebar-delete").show(),e(this).next("a.gyan-custom-sidebar-delete-confirm").hide()}),this.widget_page_right_section.on("click","a.gyan-custom-sidebar-delete-confirm",e.proxy(this.delete_custom_sidebar,this)),e("#add-new-sidebar-form").submit(function(){e.proxy(this.add_new_sidebar,this)})},add_new_sidebar:function(e){return e.preventDefault(),!1},delete_custom_sidebar:function(t){var i=e(t.currentTarget).parents(".widgets-holder-wrap:eq(0)"),s=i.find(".sidebar-name h2"),a=s.find(".spinner"),n=e.trim(s.text());i.addClass("closed"),a.css("display","inline-block"),e.ajax({type:"POST",url:window.ajaxurl,data:{action:"gyan_delete_custom_sidebar",name:n,_wpnonce:this.nonce},success:function(e){"custom-sidebar-is-removed"==e.trim()&&i.slideUp(200).remove()}})}},e(function(){new t})}(jQuery);